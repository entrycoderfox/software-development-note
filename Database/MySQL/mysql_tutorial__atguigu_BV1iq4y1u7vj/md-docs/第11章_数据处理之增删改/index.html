
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="entrycoder的软件开发记事本">
      
      
        <meta name="author" content="entrycoder">
      
      
      
        <link rel="prev" href="../%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/">
      
      
        <link rel="next" href="../%E7%AC%AC12%E7%AB%A0_MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%B2%BE%E8%AE%B2/">
      
      <link rel="icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.15">
    
    
      
        <title>第11章_数据处理之增删改 - entrycoder的软件开发记事本</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../mkdocs/css/no-footer.css">
    
      <link rel="stylesheet" href="../../../../../mkdocs/css/unordered-list-symbols.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#11-_" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../../.." title="entrycoder的软件开发记事本" class="md-header__button md-logo" aria-label="entrycoder的软件开发记事本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            entrycoder的软件开发记事本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              第11章_数据处理之增删改
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../../Environment/" class="md-tabs__link">
        系统环境
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../" class="md-tabs__link md-tabs__link--active">
        数据库
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../../.." class="md-tabs__link">
        关于
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="entrycoder的软件开发记事本" class="md-nav__button md-logo" aria-label="entrycoder的软件开发记事本" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    entrycoder的软件开发记事本
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../../Environment/">系统环境</a>
          
            <label for="__nav_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          系统环境
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
          前端
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1_2">
          <span class="md-nav__icon md-icon"></span>
          前端
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../Environment/front_end/vue_on_kylin/" class="md-nav__link">
        在Kylin上安装VUE-CLI等
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../">数据库</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          数据库
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          RDBMS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          RDBMS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1" checked>
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_1" id="__nav_2_2_1_label" tabindex="0">
          MySQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1">
          <span class="md-nav__icon md-icon"></span>
          MySQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_1" checked>
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_1_1" id="__nav_2_2_1_1_label" tabindex="0">
          MySQ教程 尚硅谷
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_2_1_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          MySQ教程 尚硅谷
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BD%9C%E8%80%85%E7%9A%84%E8%AF%9D/" class="md-nav__link">
        作者的话
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BF%AE%E6%94%B9%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        修改记录
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../%E7%9B%AE%E5%BD%95/" class="md-nav__link">
        目录
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_1_1_4" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2_1_1_4" id="__nav_2_2_1_1_4_label" tabindex="0">
          文档-基础篇
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_2_1_1_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2_2_1_1_4">
          <span class="md-nav__icon md-icon"></span>
          文档-基础篇
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC00%E7%AB%A0_%E5%86%99%E5%9C%A8%E5%89%8D%E9%9D%A2/" class="md-nav__link">
        第00章_写在前面
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC01%E7%AB%A0_%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        第01章_数据库概述
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC02%E7%AB%A0_MySQL%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" class="md-nav__link">
        第02章_MySQL环境搭建
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC03%E7%AB%A0_%E5%9F%BA%E6%9C%AC%E7%9A%84SELECT%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        第03章_基本的SELECT语句
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC04%E7%AB%A0_%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        第04章_运算符
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC05%E7%AB%A0_%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%88%86%E9%A1%B5/" class="md-nav__link">
        第05章_排序与分页
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC06%E7%AB%A0_%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/" class="md-nav__link">
        第06章_多表查询
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC07%E7%AB%A0_%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0/" class="md-nav__link">
        第07章_单行函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC08%E7%AB%A0_%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0/" class="md-nav__link">
        第08章_聚合函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC09%E7%AB%A0_%E5%AD%90%E6%9F%A5%E8%AF%A2/" class="md-nav__link">
        第09章_子查询
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC10%E7%AB%A0_%E5%88%9B%E5%BB%BA%E5%92%8C%E7%AE%A1%E7%90%86%E8%A1%A8/" class="md-nav__link">
        第10章_创建和管理表
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          第11章_数据处理之增删改
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        第11章_数据处理之增删改
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    讲师：尚硅谷-宋红康（江湖人称：康师傅）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#httpwwwatguigucom" class="md-nav__link">
    官网： http://www.atguigu.com
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1. 插入数据
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-1" class="md-nav__link">
    1. 1 实际问题
  </a>
  
    <nav class="md-nav" aria-label="1. 1 实际问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    解决方式：使用 INSERT 语句向表中插入数据。
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-2-1-values" class="md-nav__link">
    1. 2 方式 1 ：VALUES的方式添加
  </a>
  
    <nav class="md-nav" aria-label="1. 2 方式 1 ：VALUES的方式添加">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    使用这种语法一次只能向表中插入 一条 数据。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    情况 1 ：为表的所有字段按默认顺序插入数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    值列表中需要为表的每一个字段指定值，并且值的顺序必须和数据表中字段定义时的顺序相同。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    举例：
  </a>
  
    <nav class="md-nav" aria-label="举例：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-into" class="md-nav__link">
    INSERT INTO 表名
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    情况 2 ：为表的指定字段插入数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_1" class="md-nav__link">
    为表的指定字段插入数据，就是在INSERT语句中只向部分字段中插入值，而其他字段的值为表定义时的
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    默认值。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-valuesvalue1valuen" class="md-nav__link">
    在 INSERT 子句中随意列出列名，但是一旦列出，VALUES中要插入的value1,....valuen需要与
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column1columnnmysql" class="md-nav__link">
    column1,...columnn列一一对应。如果类型不同，将无法插入，并且MySQL会产生错误。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    举例：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    情况 3 ：同时插入多条记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_2" class="md-nav__link">
    INSERT语句可以同时向数据表中插入多条记录，插入时指定多个值列表，每个值列表之间用逗号分隔
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    开，基本语法格式如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    或者
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    举例：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertmysql" class="md-nav__link">
    使用INSERT同时插入多条记录时，MySQL会返回一些在执行单行插入时没有的额外信息，这些信息的含
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#records-duplicates" class="md-nav__link">
    义如下： ●　Records：表明插入的记录条数。 ●　Duplicates：表明插入时被忽略的记录，原因可能是这
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warnings" class="md-nav__link">
    些记录包含了重复的主键值。 ●　Warnings：表明有问题的数据值，例如发生数据类型转换。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertinsertinsert" class="md-nav__link">
    一个同时插入多行记录的INSERT语句等同于多个单行插入的INSERT语句，但是多行的INSERT语句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysqlinsertinsert" class="md-nav__link">
    在处理过程中效率更高。因为MySQL执行单条INSERT语句插入多行数据比使用多条INSERT语句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_3" class="md-nav__link">
    快，所以在插入多条记录时最好选择使用单条INSERT语句的方式插入。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    小结：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valuesvaluevalues" class="md-nav__link">
    VALUES也可以写成VALUE，但是VALUES是标准写法。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    字符和日期型数据应包含在单引号中。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-3-2" class="md-nav__link">
    1. 3 方式 2 ：将查询结果插入到表中
  </a>
  
    <nav class="md-nav" aria-label="1. 3 方式 2 ：将查询结果插入到表中">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insertselect" class="md-nav__link">
    INSERT还可以将SELECT语句查询的结果插入到表中，此时不需要把每一条记录的值一个一个输入，只需
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertselect_1" class="md-nav__link">
    要使用一条INSERT语句和一条SELECT语句组成的组合语句即可快速地从一个或多个表中向一个表中插入
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    多行。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    基本语法格式如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_4" class="md-nav__link">
    在 INSERT 语句中加入子查询。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    不必书写 VALUES 子句。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_5" class="md-nav__link">
    子查询中的值列表应与 INSERT 子句中的列名对应。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    举例：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2. 更新数据
  </a>
  
    <nav class="md-nav" aria-label="2. 更新数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    使用 UPDATE 语句更新数据。语法如下：
  </a>
  
    <nav class="md-nav" aria-label="使用 UPDATE 语句更新数据。语法如下：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-into_1" class="md-nav__link">
    INSERT INTO 目标表名
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    可以一次更新 多条 数据。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dml-set-autocommit-false" class="md-nav__link">
    如果需要回滚数据，需要保证在DML前，进行设置： SET AUTOCOMMIT = FALSE;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    使用 WHERE 子句指定需要更新的数据。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where_1" class="md-nav__link">
    如果省略 WHERE 子句，则表中的所有数据都将被更新。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    更新中的数据完整性错误
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    说明：不存在 55 号部门
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    3. 删除数据
  </a>
  
    <nav class="md-nav" aria-label="3. 删除数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    使用 DELETE 语句从表中删除数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_namewhere-where" class="md-nav__link">
    table_name指定要执行删除操作的表；“[WHERE ]”为可选参数，指定删除条件，如果没有WHERE子句，
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_1" class="md-nav__link">
    DELETE语句将删除表中的所有记录。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where_2" class="md-nav__link">
    使用 WHERE 子句删除指定的记录。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where_3" class="md-nav__link">
    如果省略 WHERE 子句，则表中的全部数据将被删除
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    删除中的数据完整性错误
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#you-cannot-delete-a-row-that-contains-a-primary-key-that-is-used-as-a-foreign-key-in-another" class="md-nav__link">
    说明：You cannot delete a row that contains a primary key that is used as a foreign key in another
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table" class="md-nav__link">
    table.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-mysql-8" class="md-nav__link">
    4. MySQL 8 新特性：计算列
  </a>
  
    <nav class="md-nav" aria-label="4. MySQL 8 新特性：计算列">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-1-b-2-c" class="md-nav__link">
    什么叫计算列呢？简单来说就是某一列的值是通过别的列计算得来的。例如，a列值为 1 、b列值为 2 ，c列
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abcc" class="md-nav__link">
    不需要手动插入，定义a+b的结果为c的值，那么c就是计算列，是通过别的列计算得来的。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-80create-table-alter-table-create-table" class="md-nav__link">
    在MySQL 8.0中，CREATE TABLE 和 ALTER TABLE 中都支持增加计算列。下面以CREATE TABLE为例进行讲
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    解。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tb1idabccab" class="md-nav__link">
    举例：定义数据表tb1，然后定义字段id、字段a、字段b和字段c，其中字段c为计算列，用于计算a+b的
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tb1" class="md-nav__link">
    值。 首先创建测试表tb1，语句如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    插入演示数据，语句如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    字段名 字段说明 数据类型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-int" class="md-nav__link">
    id 书编号 INT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#name-varchar50" class="md-nav__link">
    name 书名 VARCHAR(50)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authors-varchar100" class="md-nav__link">
    authors 作者 VARCHAR(100)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#price-float" class="md-nav__link">
    price 价格 FLOAT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pubdate-year" class="md-nav__link">
    pubdate 出版日期 YEAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note-varchar100" class="md-nav__link">
    note 说明 VARCHAR(100)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#num-int" class="md-nav__link">
    num 库存 INT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tb1_1" class="md-nav__link">
    查询数据表tb1中的数据，结果如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    更新数据中的数据，语句如下：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5. 综合案例
  </a>
  
    <nav class="md-nav" aria-label="5. 综合案例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    # 1）不指定字段名称，插入第一条记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    # 2）指定所有字段名称，插入第二记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    # 3）同时插入多条记录（剩下的所有记录）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-name-authors-price-pubdate-note-num" class="md-nav__link">
    id name authors price pubdate note num
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-tal-of-aaa-dickes-23-1995-novel-11" class="md-nav__link">
    1 Tal of AAA Dickes 23 1995 novel 11
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-emmat-jane-lura-35-1993-joke-22" class="md-nav__link">
    2 EmmaT Jane lura 35 1993 joke 22
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-story-of-jane-jane-tim-40-2001-novel-0" class="md-nav__link">
    3 Story of Jane Jane Tim 40 2001 novel 0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-lovey-day-george-byron-20-2005-novel-30" class="md-nav__link">
    4 Lovey Day George Byron 20 2005 novel 30
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-old-land-honore-blade-30-2010-law-0" class="md-nav__link">
    5 Old land Honore Blade 30 2010 law 0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-the-battle-upton-sara-30-1999-medicine-40" class="md-nav__link">
    6 The Battle Upton Sara 30 1999 medicine 40
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-rose-hood-richard-haggard-28-2008-cartoon-28" class="md-nav__link">
    7 Rose Hood Richard haggard 28 2008 cartoon 28
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    答案：
  </a>
  
    <nav class="md-nav" aria-label="答案：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6-0" class="md-nav__link">
    # 6、删除库存为 0 的记录。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-5" class="md-nav__link">
    # 13、查询所有图书，每页显示 5 本，显示第二页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-10" class="md-nav__link">
    # 15、查询书名达到 10 个字符的书，不包括里面的空格
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#20" class="md-nav__link">
    # 20、统计库存量前三名的图书
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    # 21、找出最早出版的一本书
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    # 23、找出书名中字数最多的一本书，不含空格
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC12%E7%AB%A0_MySQL%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%B2%BE%E8%AE%B2/" class="md-nav__link">
        第12章_MySQL数据类型精讲
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC13%E7%AB%A0_%E7%BA%A6%E6%9D%9F/" class="md-nav__link">
        第13章_约束
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC14%E7%AB%A0_%E8%A7%86%E5%9B%BE/" class="md-nav__link">
        第14章_视图
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC15%E7%AB%A0_%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E4%B8%8E%E5%87%BD%E6%95%B0/" class="md-nav__link">
        第15章_存储过程与函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC16%E7%AB%A0_%E5%8F%98%E9%87%8F%E3%80%81%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E4%B8%8E%E6%B8%B8%E6%A0%87/" class="md-nav__link">
        第16章_变量、流程控制与游标
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC17%E7%AB%A0_%E8%A7%A6%E5%8F%91%E5%99%A8/" class="md-nav__link">
        第17章_触发器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC18%E7%AB%A0_MySQL8%E5%85%B6%E5%AE%83%E6%96%B0%E7%89%B9%E6%80%A7/" class="md-nav__link">
        第18章_MySQL8其它新特性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%AC%AC19%E7%AB%A0_%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E/" class="md-nav__link">
        第19章_写在最后
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
        
      
      <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../../..">关于</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          关于
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-" class="md-nav__link">
    讲师：尚硅谷-宋红康（江湖人称：康师傅）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#httpwwwatguigucom" class="md-nav__link">
    官网： http://www.atguigu.com
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    1. 插入数据
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-1" class="md-nav__link">
    1. 1 实际问题
  </a>
  
    <nav class="md-nav" aria-label="1. 1 实际问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert" class="md-nav__link">
    解决方式：使用 INSERT 语句向表中插入数据。
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-2-1-values" class="md-nav__link">
    1. 2 方式 1 ：VALUES的方式添加
  </a>
  
    <nav class="md-nav" aria-label="1. 2 方式 1 ：VALUES的方式添加">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    使用这种语法一次只能向表中插入 一条 数据。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    情况 1 ：为表的所有字段按默认顺序插入数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    值列表中需要为表的每一个字段指定值，并且值的顺序必须和数据表中字段定义时的顺序相同。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    举例：
  </a>
  
    <nav class="md-nav" aria-label="举例：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-into" class="md-nav__link">
    INSERT INTO 表名
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    情况 2 ：为表的指定字段插入数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_1" class="md-nav__link">
    为表的指定字段插入数据，就是在INSERT语句中只向部分字段中插入值，而其他字段的值为表定义时的
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    默认值。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-valuesvalue1valuen" class="md-nav__link">
    在 INSERT 子句中随意列出列名，但是一旦列出，VALUES中要插入的value1,....valuen需要与
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column1columnnmysql" class="md-nav__link">
    column1,...columnn列一一对应。如果类型不同，将无法插入，并且MySQL会产生错误。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    举例：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    情况 3 ：同时插入多条记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_2" class="md-nav__link">
    INSERT语句可以同时向数据表中插入多条记录，插入时指定多个值列表，每个值列表之间用逗号分隔
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    开，基本语法格式如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    或者
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    举例：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertmysql" class="md-nav__link">
    使用INSERT同时插入多条记录时，MySQL会返回一些在执行单行插入时没有的额外信息，这些信息的含
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#records-duplicates" class="md-nav__link">
    义如下： ●　Records：表明插入的记录条数。 ●　Duplicates：表明插入时被忽略的记录，原因可能是这
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#warnings" class="md-nav__link">
    些记录包含了重复的主键值。 ●　Warnings：表明有问题的数据值，例如发生数据类型转换。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertinsertinsert" class="md-nav__link">
    一个同时插入多行记录的INSERT语句等同于多个单行插入的INSERT语句，但是多行的INSERT语句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysqlinsertinsert" class="md-nav__link">
    在处理过程中效率更高。因为MySQL执行单条INSERT语句插入多行数据比使用多条INSERT语句
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_3" class="md-nav__link">
    快，所以在插入多条记录时最好选择使用单条INSERT语句的方式插入。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    小结：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#valuesvaluevalues" class="md-nav__link">
    VALUES也可以写成VALUE，但是VALUES是标准写法。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    字符和日期型数据应包含在单引号中。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-3-2" class="md-nav__link">
    1. 3 方式 2 ：将查询结果插入到表中
  </a>
  
    <nav class="md-nav" aria-label="1. 3 方式 2 ：将查询结果插入到表中">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insertselect" class="md-nav__link">
    INSERT还可以将SELECT语句查询的结果插入到表中，此时不需要把每一条记录的值一个一个输入，只需
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insertselect_1" class="md-nav__link">
    要使用一条INSERT语句和一条SELECT语句组成的组合语句即可快速地从一个或多个表中向一个表中插入
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    多行。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    基本语法格式如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_4" class="md-nav__link">
    在 INSERT 语句中加入子查询。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#values" class="md-nav__link">
    不必书写 VALUES 子句。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert_5" class="md-nav__link">
    子查询中的值列表应与 INSERT 子句中的列名对应。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    举例：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    2. 更新数据
  </a>
  
    <nav class="md-nav" aria-label="2. 更新数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    使用 UPDATE 语句更新数据。语法如下：
  </a>
  
    <nav class="md-nav" aria-label="使用 UPDATE 语句更新数据。语法如下：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-into_1" class="md-nav__link">
    INSERT INTO 目标表名
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    可以一次更新 多条 数据。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dml-set-autocommit-false" class="md-nav__link">
    如果需要回滚数据，需要保证在DML前，进行设置： SET AUTOCOMMIT = FALSE;
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where" class="md-nav__link">
    使用 WHERE 子句指定需要更新的数据。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where_1" class="md-nav__link">
    如果省略 WHERE 子句，则表中的所有数据都将被更新。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    更新中的数据完整性错误
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    说明：不存在 55 号部门
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    3. 删除数据
  </a>
  
    <nav class="md-nav" aria-label="3. 删除数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    使用 DELETE 语句从表中删除数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_namewhere-where" class="md-nav__link">
    table_name指定要执行删除操作的表；“[WHERE ]”为可选参数，指定删除条件，如果没有WHERE子句，
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_1" class="md-nav__link">
    DELETE语句将删除表中的所有记录。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where_2" class="md-nav__link">
    使用 WHERE 子句删除指定的记录。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where_3" class="md-nav__link">
    如果省略 WHERE 子句，则表中的全部数据将被删除
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    删除中的数据完整性错误
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#you-cannot-delete-a-row-that-contains-a-primary-key-that-is-used-as-a-foreign-key-in-another" class="md-nav__link">
    说明：You cannot delete a row that contains a primary key that is used as a foreign key in another
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table" class="md-nav__link">
    table.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-mysql-8" class="md-nav__link">
    4. MySQL 8 新特性：计算列
  </a>
  
    <nav class="md-nav" aria-label="4. MySQL 8 新特性：计算列">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-1-b-2-c" class="md-nav__link">
    什么叫计算列呢？简单来说就是某一列的值是通过别的列计算得来的。例如，a列值为 1 、b列值为 2 ，c列
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abcc" class="md-nav__link">
    不需要手动插入，定义a+b的结果为c的值，那么c就是计算列，是通过别的列计算得来的。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mysql-80create-table-alter-table-create-table" class="md-nav__link">
    在MySQL 8.0中，CREATE TABLE 和 ALTER TABLE 中都支持增加计算列。下面以CREATE TABLE为例进行讲
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    解。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tb1idabccab" class="md-nav__link">
    举例：定义数据表tb1，然后定义字段id、字段a、字段b和字段c，其中字段c为计算列，用于计算a+b的
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tb1" class="md-nav__link">
    值。 首先创建测试表tb1，语句如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    插入演示数据，语句如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    字段名 字段说明 数据类型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-int" class="md-nav__link">
    id 书编号 INT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#name-varchar50" class="md-nav__link">
    name 书名 VARCHAR(50)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authors-varchar100" class="md-nav__link">
    authors 作者 VARCHAR(100)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#price-float" class="md-nav__link">
    price 价格 FLOAT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pubdate-year" class="md-nav__link">
    pubdate 出版日期 YEAR
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note-varchar100" class="md-nav__link">
    note 说明 VARCHAR(100)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#num-int" class="md-nav__link">
    num 库存 INT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tb1_1" class="md-nav__link">
    查询数据表tb1中的数据，结果如下：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    更新数据中的数据，语句如下：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    5. 综合案例
  </a>
  
    <nav class="md-nav" aria-label="5. 综合案例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    # 1）不指定字段名称，插入第一条记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    # 2）指定所有字段名称，插入第二记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    # 3）同时插入多条记录（剩下的所有记录）
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id-name-authors-price-pubdate-note-num" class="md-nav__link">
    id name authors price pubdate note num
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#1-tal-of-aaa-dickes-23-1995-novel-11" class="md-nav__link">
    1 Tal of AAA Dickes 23 1995 novel 11
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-emmat-jane-lura-35-1993-joke-22" class="md-nav__link">
    2 EmmaT Jane lura 35 1993 joke 22
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-story-of-jane-jane-tim-40-2001-novel-0" class="md-nav__link">
    3 Story of Jane Jane Tim 40 2001 novel 0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-lovey-day-george-byron-20-2005-novel-30" class="md-nav__link">
    4 Lovey Day George Byron 20 2005 novel 30
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-old-land-honore-blade-30-2010-law-0" class="md-nav__link">
    5 Old land Honore Blade 30 2010 law 0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-the-battle-upton-sara-30-1999-medicine-40" class="md-nav__link">
    6 The Battle Upton Sara 30 1999 medicine 40
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-rose-hood-richard-haggard-28-2008-cartoon-28" class="md-nav__link">
    7 Rose Hood Richard haggard 28 2008 cartoon 28
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    答案：
  </a>
  
    <nav class="md-nav" aria-label="答案：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6-0" class="md-nav__link">
    # 6、删除库存为 0 的记录。
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-5" class="md-nav__link">
    # 13、查询所有图书，每页显示 5 本，显示第二页
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-10" class="md-nav__link">
    # 15、查询书名达到 10 个字符的书，不包括里面的空格
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#20" class="md-nav__link">
    # 20、统计库存量前三名的图书
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    # 21、找出最早出版的一本书
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    # 23、找出书名中字数最多的一本书，不含空格
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




<h1 id="11-_">第 11 章_数据处理之增删改<a class="headerlink" href="#11-_" title="Permanent link">&para;</a></h1>
<h4 id="-">讲师：尚硅谷-宋红康（江湖人称：康师傅）<a class="headerlink" href="#-" title="Permanent link">&para;</a></h4>
<h4 id="httpwwwatguigucom">官网： http://www.atguigu.com<a class="headerlink" href="#httpwwwatguigucom" title="Permanent link">&para;</a></h4>
<h2 id="1">1. 插入数据<a class="headerlink" href="#1" title="Permanent link">&para;</a></h2>
<h2 id="1-1">1. 1 实际问题<a class="headerlink" href="#1-1" title="Permanent link">&para;</a></h2>
<h4 id="insert">解决方式：使用 INSERT 语句向表中插入数据。<a class="headerlink" href="#insert" title="Permanent link">&para;</a></h4>
<h2 id="1-2-1-values">1. 2 方式 1 ：VALUES的方式添加<a class="headerlink" href="#1-2-1-values" title="Permanent link">&para;</a></h2>
<h4 id="_1">使用这种语法一次只能向表中插入 一条 数据。<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<h4 id="1_1">情况 1 ：为表的所有字段按默认顺序插入数据<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h4>
<h4 id="_2">值列表中需要为表的每一个字段指定值，并且值的顺序必须和数据表中字段定义时的顺序相同。<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h4>
<h4 id="_3">举例：<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<h5 id="insert-into">INSERT INTO 表名<a class="headerlink" href="#insert-into" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>VALUES (value1,value2,....);
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO departments
VALUES ( 70 , &#39;Pub&#39;, 100 , 1700 );
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO departments
VALUES ( 100 , &#39;Finance&#39;, NULL, NULL);
</code></pre></div>
<h4 id="2">情况 2 ：为表的指定字段插入数据<a class="headerlink" href="#2" title="Permanent link">&para;</a></h4>
<h4 id="insert_1">为表的指定字段插入数据，就是在INSERT语句中只向部分字段中插入值，而其他字段的值为表定义时的<a class="headerlink" href="#insert_1" title="Permanent link">&para;</a></h4>
<h4 id="_4">默认值。<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<h4 id="insert-valuesvalue1valuen">在 INSERT 子句中随意列出列名，但是一旦列出，VALUES中要插入的value1,....valuen需要与<a class="headerlink" href="#insert-valuesvalue1valuen" title="Permanent link">&para;</a></h4>
<h4 id="column1columnnmysql">column1,...columnn列一一对应。如果类型不同，将无法插入，并且MySQL会产生错误。<a class="headerlink" href="#column1columnnmysql" title="Permanent link">&para;</a></h4>
<h4 id="_5">举例：<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<h4 id="3">情况 3 ：同时插入多条记录<a class="headerlink" href="#3" title="Permanent link">&para;</a></h4>
<h4 id="insert_2">INSERT语句可以同时向数据表中插入多条记录，插入时指定多个值列表，每个值列表之间用逗号分隔<a class="headerlink" href="#insert_2" title="Permanent link">&para;</a></h4>
<h4 id="_6">开，基本语法格式如下：<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<h4 id="_7">或者<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<h4 id="_8">举例：<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<h4 id="insertmysql">使用INSERT同时插入多条记录时，MySQL会返回一些在执行单行插入时没有的额外信息，这些信息的含<a class="headerlink" href="#insertmysql" title="Permanent link">&para;</a></h4>
<h4 id="records-duplicates">义如下： ●　Records：表明插入的记录条数。 ●　Duplicates：表明插入时被忽略的记录，原因可能是这<a class="headerlink" href="#records-duplicates" title="Permanent link">&para;</a></h4>
<h4 id="warnings">些记录包含了重复的主键值。 ●　Warnings：表明有问题的数据值，例如发生数据类型转换。<a class="headerlink" href="#warnings" title="Permanent link">&para;</a></h4>
<h4 id="insertinsertinsert">一个同时插入多行记录的INSERT语句等同于多个单行插入的INSERT语句，但是多行的INSERT语句<a class="headerlink" href="#insertinsertinsert" title="Permanent link">&para;</a></h4>
<h4 id="mysqlinsertinsert">在处理过程中效率更高。因为MySQL执行单条INSERT语句插入多行数据比使用多条INSERT语句<a class="headerlink" href="#mysqlinsertinsert" title="Permanent link">&para;</a></h4>
<h4 id="insert_3">快，所以在插入多条记录时最好选择使用单条INSERT语句的方式插入。<a class="headerlink" href="#insert_3" title="Permanent link">&para;</a></h4>
<h4 id="_9">小结：<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<h4 id="valuesvaluevalues">VALUES也可以写成VALUE，但是VALUES是标准写法。<a class="headerlink" href="#valuesvaluevalues" title="Permanent link">&para;</a></h4>
<h4 id="_10">字符和日期型数据应包含在单引号中。<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>INSERT INTO 表名(column1 [, column2, ..., columnn])
VALUES (value1 [,value2, ..., valuen]);
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO departments(department_id, department_name)
VALUES ( 80 , &#39;IT&#39;);
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO table_name
VALUES
(value1 [,value2, ..., valuen]),
(value1 [,value2, ..., valuen]),
......
(value1 [,value2, ..., valuen]);
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO table_name(column1 [, column2, ..., columnn])
VALUES
(value1 [,value2, ..., valuen]),
(value1 [,value2, ..., valuen]),
......
(value1 [,value2, ..., valuen]);
</code></pre></div>
<div class="highlight"><pre><span></span><code>mysql&gt; INSERT INTO emp(emp_id,emp_name)
-&gt; VALUES ( 1001 ,&#39;shkstart&#39;),
-&gt; ( 1002 ,&#39;atguigu&#39;),
-&gt; ( 1003 ,&#39;Tom&#39;);
Query OK, 3 rows affected (0.00 sec)
Records: 3 Duplicates: 0 Warnings: 0
</code></pre></div>
<h3 id="1-3-2">1. 3 方式 2 ：将查询结果插入到表中<a class="headerlink" href="#1-3-2" title="Permanent link">&para;</a></h3>
<h4 id="insertselect">INSERT还可以将SELECT语句查询的结果插入到表中，此时不需要把每一条记录的值一个一个输入，只需<a class="headerlink" href="#insertselect" title="Permanent link">&para;</a></h4>
<h4 id="insertselect_1">要使用一条INSERT语句和一条SELECT语句组成的组合语句即可快速地从一个或多个表中向一个表中插入<a class="headerlink" href="#insertselect_1" title="Permanent link">&para;</a></h4>
<h4 id="_11">多行。<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<h4 id="_12">基本语法格式如下：<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<h4 id="insert_4">在 INSERT 语句中加入子查询。<a class="headerlink" href="#insert_4" title="Permanent link">&para;</a></h4>
<h4 id="values">不必书写 VALUES 子句。<a class="headerlink" href="#values" title="Permanent link">&para;</a></h4>
<h4 id="insert_5">子查询中的值列表应与 INSERT 子句中的列名对应。<a class="headerlink" href="#insert_5" title="Permanent link">&para;</a></h4>
<h4 id="_13">举例：<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<h2 id="2_1">2. 更新数据<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h2>
<h4 id="update">使用 UPDATE 语句更新数据。语法如下：<a class="headerlink" href="#update" title="Permanent link">&para;</a></h4>
<h5 id="insert-into_1">INSERT INTO 目标表名<a class="headerlink" href="#insert-into_1" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code>(tar_column1 [, tar_column2, ..., tar_columnn])
SELECT
(src_column1 [, src_column2, ..., src_columnn])
FROM 源表名
[WHERE condition]
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO emp
SELECT *
FROM employees
WHERE department_id = 90 ;
</code></pre></div>
<div class="highlight"><pre><span></span><code>INSERT INTO sales_reps(id, name, salary, commission_pct)
SELECT employee_id, last_name, salary, commission_pct
FROM employees
WHERE job_id LIKE &#39;%REP%&#39;;
</code></pre></div>
<h4 id="_14">可以一次更新 多条 数据。<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<h4 id="dml-set-autocommit-false">如果需要回滚数据，需要保证在DML前，进行设置： SET AUTOCOMMIT = FALSE;<a class="headerlink" href="#dml-set-autocommit-false" title="Permanent link">&para;</a></h4>
<h4 id="where">使用 WHERE 子句指定需要更新的数据。<a class="headerlink" href="#where" title="Permanent link">&para;</a></h4>
<h4 id="where_1">如果省略 WHERE 子句，则表中的所有数据都将被更新。<a class="headerlink" href="#where_1" title="Permanent link">&para;</a></h4>
<h4 id="_15">更新中的数据完整性错误<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h4>
<h4 id="55">说明：不存在 55 号部门<a class="headerlink" href="#55" title="Permanent link">&para;</a></h4>
<h2 id="3_1">3. 删除数据<a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>UPDATE table_name
SET column1=value1, column2=value2, ... , column=valuen
[WHERE condition]
</code></pre></div>
<div class="highlight"><pre><span></span><code>UPDATE employees
SET department_id = 70
WHERE employee_id = 113 ;
</code></pre></div>
<div class="highlight"><pre><span></span><code>UPDATE copy_emp
SET department_id = 110 ;
</code></pre></div>
<div class="highlight"><pre><span></span><code>UPDATE employees
SET department_id = 55
WHERE department_id = 110 ;
</code></pre></div>
<h4 id="delete">使用 DELETE 语句从表中删除数据<a class="headerlink" href="#delete" title="Permanent link">&para;</a></h4>
<h4 id="table_namewhere-where">table_name指定要执行删除操作的表；“[WHERE ]”为可选参数，指定删除条件，如果没有WHERE子句，<a class="headerlink" href="#table_namewhere-where" title="Permanent link">&para;</a></h4>
<h4 id="delete_1">DELETE语句将删除表中的所有记录。<a class="headerlink" href="#delete_1" title="Permanent link">&para;</a></h4>
<h4 id="where_2">使用 WHERE 子句删除指定的记录。<a class="headerlink" href="#where_2" title="Permanent link">&para;</a></h4>
<h4 id="where_3">如果省略 WHERE 子句，则表中的全部数据将被删除<a class="headerlink" href="#where_3" title="Permanent link">&para;</a></h4>
<h4 id="_16">删除中的数据完整性错误<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h4>
<h4 id="you-cannot-delete-a-row-that-contains-a-primary-key-that-is-used-as-a-foreign-key-in-another">说明：You cannot delete a row that contains a primary key that is used as a foreign key in another<a class="headerlink" href="#you-cannot-delete-a-row-that-contains-a-primary-key-that-is-used-as-a-foreign-key-in-another" title="Permanent link">&para;</a></h4>
<h4 id="table">table.<a class="headerlink" href="#table" title="Permanent link">&para;</a></h4>
<h2 id="4-mysql-8">4. MySQL 8 新特性：计算列<a class="headerlink" href="#4-mysql-8" title="Permanent link">&para;</a></h2>
<h4 id="a-1-b-2-c">什么叫计算列呢？简单来说就是某一列的值是通过别的列计算得来的。例如，a列值为 1 、b列值为 2 ，c列<a class="headerlink" href="#a-1-b-2-c" title="Permanent link">&para;</a></h4>
<h4 id="abcc">不需要手动插入，定义a+b的结果为c的值，那么c就是计算列，是通过别的列计算得来的。<a class="headerlink" href="#abcc" title="Permanent link">&para;</a></h4>
<h4 id="mysql-80create-table-alter-table-create-table">在MySQL 8.0中，CREATE TABLE 和 ALTER TABLE 中都支持增加计算列。下面以CREATE TABLE为例进行讲<a class="headerlink" href="#mysql-80create-table-alter-table-create-table" title="Permanent link">&para;</a></h4>
<h4 id="_17">解。<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h4>
<h4 id="tb1idabccab">举例：定义数据表tb1，然后定义字段id、字段a、字段b和字段c，其中字段c为计算列，用于计算a+b的<a class="headerlink" href="#tb1idabccab" title="Permanent link">&para;</a></h4>
<h4 id="tb1">值。 首先创建测试表tb1，语句如下：<a class="headerlink" href="#tb1" title="Permanent link">&para;</a></h4>
<h4 id="_18">插入演示数据，语句如下：<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>DELETE FROM table_name [WHERE &lt;condition&gt;];
</code></pre></div>
<div class="highlight"><pre><span></span><code>DELETE FROM departments
WHERE department_name = &#39;Finance&#39;;
</code></pre></div>
<div class="highlight"><pre><span></span><code>DELETE FROM copy_emp;
</code></pre></div>
<div class="highlight"><pre><span></span><code>DELETE FROM departments
WHERE department_id = 60 ;
</code></pre></div>
<div class="highlight"><pre><span></span><code>CREATE TABLE tb1(
id INT,
a INT,
b INT,
c INT GENERATED ALWAYS AS (a + b) VIRTUAL
);
</code></pre></div>
<h4 id="_19">字段名 字段说明 数据类型<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h4>
<h4 id="id-int">id 书编号 INT<a class="headerlink" href="#id-int" title="Permanent link">&para;</a></h4>
<h4 id="name-varchar50">name 书名 VARCHAR(50)<a class="headerlink" href="#name-varchar50" title="Permanent link">&para;</a></h4>
<h4 id="authors-varchar100">authors 作者 VARCHAR(100)<a class="headerlink" href="#authors-varchar100" title="Permanent link">&para;</a></h4>
<h4 id="price-float">price 价格 FLOAT<a class="headerlink" href="#price-float" title="Permanent link">&para;</a></h4>
<h4 id="pubdate-year">pubdate 出版日期 YEAR<a class="headerlink" href="#pubdate-year" title="Permanent link">&para;</a></h4>
<h4 id="note-varchar100">note 说明 VARCHAR(100)<a class="headerlink" href="#note-varchar100" title="Permanent link">&para;</a></h4>
<h4 id="num-int">num 库存 INT<a class="headerlink" href="#num-int" title="Permanent link">&para;</a></h4>
<h4 id="tb1_1">查询数据表tb1中的数据，结果如下：<a class="headerlink" href="#tb1_1" title="Permanent link">&para;</a></h4>
<h4 id="_20">更新数据中的数据，语句如下：<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h4>
<h2 id="5">5. 综合案例<a class="headerlink" href="#5" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>INSERT INTO tb1(a,b) VALUES ( 100 , 200 );
</code></pre></div>
<div class="highlight"><pre><span></span><code>mysql&gt; SELECT * FROM tb1;
+------+------+------+------+
| id | a | b | c |
+------+------+------+------+
| NULL | 100 | 200 | 300 |
+------+------+------+------+
1 row in set (0.00 sec)
</code></pre></div>
<div class="highlight"><pre><span></span><code>mysql&gt; UPDATE tb1 SET a = 500 ;
Query OK, 0 rows affected (0.00 sec)
Rows matched: 1 Changed: 0 Warnings: 0
</code></pre></div>
<div class="highlight"><pre><span></span><code># 1、创建数据库test01_library
</code></pre></div>
<div class="highlight"><pre><span></span><code># 2、创建表 books，表结构如下：
</code></pre></div>
<div class="highlight"><pre><span></span><code># 3、向books表中插入记录
</code></pre></div>
<h5 id="1_2"># 1）不指定字段名称，插入第一条记录<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h5>
<h5 id="2_2"># 2）指定所有字段名称，插入第二记录<a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h5>
<h5 id="3_2"># 3）同时插入多条记录（剩下的所有记录）<a class="headerlink" href="#3_2" title="Permanent link">&para;</a></h5>
<h4 id="id-name-authors-price-pubdate-note-num">id name authors price pubdate note num<a class="headerlink" href="#id-name-authors-price-pubdate-note-num" title="Permanent link">&para;</a></h4>
<h4 id="1-tal-of-aaa-dickes-23-1995-novel-11">1 Tal of AAA Dickes 23 1995 novel 11<a class="headerlink" href="#1-tal-of-aaa-dickes-23-1995-novel-11" title="Permanent link">&para;</a></h4>
<h4 id="2-emmat-jane-lura-35-1993-joke-22">2 EmmaT Jane lura 35 1993 joke 22<a class="headerlink" href="#2-emmat-jane-lura-35-1993-joke-22" title="Permanent link">&para;</a></h4>
<h4 id="3-story-of-jane-jane-tim-40-2001-novel-0">3 Story of Jane Jane Tim 40 2001 novel 0<a class="headerlink" href="#3-story-of-jane-jane-tim-40-2001-novel-0" title="Permanent link">&para;</a></h4>
<h4 id="4-lovey-day-george-byron-20-2005-novel-30">4 Lovey Day George Byron 20 2005 novel 30<a class="headerlink" href="#4-lovey-day-george-byron-20-2005-novel-30" title="Permanent link">&para;</a></h4>
<h4 id="5-old-land-honore-blade-30-2010-law-0">5 Old land Honore Blade 30 2010 law 0<a class="headerlink" href="#5-old-land-honore-blade-30-2010-law-0" title="Permanent link">&para;</a></h4>
<h4 id="6-the-battle-upton-sara-30-1999-medicine-40">6 The Battle Upton Sara 30 1999 medicine 40<a class="headerlink" href="#6-the-battle-upton-sara-30-1999-medicine-40" title="Permanent link">&para;</a></h4>
<h4 id="7-rose-hood-richard-haggard-28-2008-cartoon-28">7 Rose Hood Richard haggard 28 2008 cartoon 28<a class="headerlink" href="#7-rose-hood-richard-haggard-28-2008-cartoon-28" title="Permanent link">&para;</a></h4>
<h4 id="_21">答案：<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code># 4、将小说类型(novel)的书的价格都增加 5 。
</code></pre></div>
<div class="highlight"><pre><span></span><code># 5、将名称为EmmaT的书的价格改为 40 ，并将说明改为drama。
</code></pre></div>
<h5 id="6-0"># 6、删除库存为 0 的记录。<a class="headerlink" href="#6-0" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code># 7、统计书名中包含a字母的书
</code></pre></div>
<div class="highlight"><pre><span></span><code># 8、统计书名中包含a字母的书的数量和库存总量
</code></pre></div>
<div class="highlight"><pre><span></span><code># 9、找出“novel”类型的书，按照价格降序排列
</code></pre></div>
<div class="highlight"><pre><span></span><code># 10、查询图书信息，按照库存量降序排列，如果库存量相同的按照note升序排列
</code></pre></div>
<div class="highlight"><pre><span></span><code># 11、按照note分类统计书的数量
</code></pre></div>
<div class="highlight"><pre><span></span><code># 12、按照note分类统计书的库存量，显示库存量超过 30 本的
</code></pre></div>
<h5 id="13-5"># 13、查询所有图书，每页显示 5 本，显示第二页<a class="headerlink" href="#13-5" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code># 14、按照note分类统计书的库存量，显示库存量最多的
</code></pre></div>
<h5 id="15-10"># 15、查询书名达到 10 个字符的书，不包括里面的空格<a class="headerlink" href="#15-10" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code># 16、查询书名和类型，其中note值为novel显示小说，law显示法律，medicine显示医药，cartoon显示卡通，
joke显示笑话
</code></pre></div>
<div class="highlight"><pre><span></span><code># 17、查询书名、库存，其中num值超过 30 本的，显示滞销，大于 0 并低于 10 的，显示畅销，为 0 的显示需要无货
</code></pre></div>
<div class="highlight"><pre><span></span><code># 18、统计每一种note的库存量，并合计总量
</code></pre></div>
<div class="highlight"><pre><span></span><code># 19、统计每一种note的数量，并合计总量
</code></pre></div>
<h5 id="20"># 20、统计库存量前三名的图书<a class="headerlink" href="#20" title="Permanent link">&para;</a></h5>
<h5 id="21"># 21、找出最早出版的一本书<a class="headerlink" href="#21" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code># 22、找出novel中价格最高的一本书
</code></pre></div>
<h5 id="23"># 23、找出书名中字数最多的一本书，不含空格<a class="headerlink" href="#23" title="Permanent link">&para;</a></h5>
<h1 id="1test01_library">1、创建数据库test01_library<a class="headerlink" href="#1test01_library" title="Permanent link">&para;</a></h1>
<p>CREATE DATABASE IF NOT EXISTS test01_library CHARACTER SET 'utf8';</p>
<h5 id="_22">#指定使用哪个数据库<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h5>
<p>USE test01_library;</p>
<h1 id="2-books">2、创建表 books<a class="headerlink" href="#2-books" title="Permanent link">&para;</a></h1>
<p>CREATE TABLE books(
id INT,
name VARCHAR( 50 ),
<code>authors</code> VARCHAR( 100 ) ,
price FLOAT,
pubdate YEAR ,
note VARCHAR( 100 ),
num INT
);</p>
<h1 id="3books">3、向books表中插入记录<a class="headerlink" href="#3books" title="Permanent link">&para;</a></h1>
<h1 id="1_3">1）不指定字段名称，插入第一条记录<a class="headerlink" href="#1_3" title="Permanent link">&para;</a></h1>
<p>INSERT INTO books
VALUES( 1 ,'Tal of AAA','Dickes', 23 , 1995 ,'novel', 11 );</p>
<h1 id="2_3">2）指定所有字段名称，插入第二记录<a class="headerlink" href="#2_3" title="Permanent link">&para;</a></h1>
<p>INSERT INTO books (id,name,<code>authors</code>,price,pubdate,note,num)
VALUES( 2 ,'EmmaT','Jane lura', 35 , 1993 ,'Joke', 22 );</p>
<h1 id="3_3">3）同时插入多条记录（剩下的所有记录）<a class="headerlink" href="#3_3" title="Permanent link">&para;</a></h1>
<p>INSERT INTO books (id,name,<code>authors</code>,price,pubdate,note,num) VALUES
( 3 ,'Story of Jane','Jane Tim', 40 , 2001 ,'novel', 0 ),
( 4 ,'Lovey Day','George Byron', 20 , 2005 ,'novel', 30 ),
( 5 ,'Old land','Honore Blade', 30 , 2010 ,'Law', 0 ),
( 6 ,'The Battle','Upton Sara', 30 , 1999 ,'medicine', 40 ),
( 7 ,'Rose Hood','Richard haggard', 28 , 2008 ,'cartoon', 28 );</p>
<h1 id="4novel-5">4、将小说类型(novel)的书的价格都增加 5 。<a class="headerlink" href="#4novel-5" title="Permanent link">&para;</a></h1>
<p>UPDATE books SET price=price+ 5 WHERE note = 'novel';</p>
<h1 id="5emmat-40-drama">5、将名称为EmmaT的书的价格改为 40 ，并将说明改为drama。<a class="headerlink" href="#5emmat-40-drama" title="Permanent link">&para;</a></h1>
<p>UPDATE books SET price= 40 ,note='drama' WHERE name='EmmaT';</p>
<h5 id="6-0_1"># 6、删除库存为 0 的记录。<a class="headerlink" href="#6-0_1" title="Permanent link">&para;</a></h5>
<p>DELETE FROM books WHERE num= 0 ;</p>
<h1 id="7a">7、统计书名中包含a字母的书<a class="headerlink" href="#7a" title="Permanent link">&para;</a></h1>
<p>SELECT * FROM books WHERE name LIKE '%a%';</p>
<h1 id="8a">8、统计书名中包含a字母的书的数量和库存总量<a class="headerlink" href="#8a" title="Permanent link">&para;</a></h1>
<p>SELECT COUNT(*),SUM(num) FROM books WHERE name LIKE '%a%';</p>
<h1 id="9novel">9、找出“novel”类型的书，按照价格降序排列<a class="headerlink" href="#9novel" title="Permanent link">&para;</a></h1>
<p>SELECT * FROM books WHERE note = 'novel' ORDER BY price DESC;</p>
<h1 id="10note">10、查询图书信息，按照库存量降序排列，如果库存量相同的按照note升序排列<a class="headerlink" href="#10note" title="Permanent link">&para;</a></h1>
<p>SELECT * FROM books ORDER BY num DESC,note ASC;</p>
<h1 id="11note">11、按照note分类统计书的数量<a class="headerlink" href="#11note" title="Permanent link">&para;</a></h1>
<p>SELECT note,COUNT(*) FROM books GROUP BY note;</p>
<h1 id="12note-30">12、按照note分类统计书的库存量，显示库存量超过 30 本的<a class="headerlink" href="#12note-30" title="Permanent link">&para;</a></h1>
<p>SELECT note,SUM(num) FROM books GROUP BY note HAVING SUM(num)&gt; 30 ;</p>
<h5 id="13-5_1"># 13、查询所有图书，每页显示 5 本，显示第二页<a class="headerlink" href="#13-5_1" title="Permanent link">&para;</a></h5>
<p>SELECT * FROM books LIMIT 5 , 5 ;</p>
<h1 id="14note">14、按照note分类统计书的库存量，显示库存量最多的<a class="headerlink" href="#14note" title="Permanent link">&para;</a></h1>
<p>SELECT note,SUM(num) sum_num FROM books GROUP BY note ORDER BY sum_num DESC LIMIT 0 , 1 ;</p>
<h5 id="15-10_1"># 15、查询书名达到 10 个字符的书，不包括里面的空格<a class="headerlink" href="#15-10_1" title="Permanent link">&para;</a></h5>
<p>SELECT * FROM books WHERE CHAR_LENGTH(REPLACE(name,' ',''))&gt;= 10 ;</p>
<h5 id="_23">/*<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h5>
<h5 id="16">16 、查询书名和类型，<a class="headerlink" href="#16" title="Permanent link">&para;</a></h5>
<p>其中note值为 novel显示小说，law显示法律，medicine显示医药，cartoon显示卡通，joke显示笑话
*/
SELECT name AS "书名" ,note, CASE note
WHEN 'novel' THEN '小说'
WHEN 'law' THEN '法律'
WHEN 'medicine' THEN '医药'
WHEN 'cartoon' THEN '卡通'
WHEN 'joke' THEN '笑话'
END AS "类型"
FROM books;</p>
<h1 id="17num-30-0-10-0">17、查询书名、库存，其中num值超过 30 本的，显示滞销，大于 0 并低于 10 的，显示畅销，为 0 的显示需要无货<a class="headerlink" href="#17num-30-0-10-0" title="Permanent link">&para;</a></h1>
<p>SELECT name,num,CASE
WHEN num&gt; 30 THEN '滞销'
WHEN num&gt; 0 AND num&lt; 10 THEN '畅销'
WHEN num= 0 THEN '无货'
ELSE '正常'
END AS "库存状态"
FROM books;</p>
<h1 id="18note">18、统计每一种note的库存量，并合计总量<a class="headerlink" href="#18note" title="Permanent link">&para;</a></h1>
<p>SELECT IFNULL(note,'合计总库存量') AS note,SUM(num) FROM books GROUP BY note WITH
ROLLUP;</p>
<h1 id="19note">19、统计每一种note的数量，并合计总量<a class="headerlink" href="#19note" title="Permanent link">&para;</a></h1>
<p>SELECT IFNULL(note,'合计总数') AS note,COUNT(*) FROM books GROUP BY note WITH ROLLUP;</p>
<h5 id="20_1"># 20、统计库存量前三名的图书<a class="headerlink" href="#20_1" title="Permanent link">&para;</a></h5>
<p>SELECT * FROM books ORDER BY num DESC LIMIT 0 , 3 ;</p>
<h5 id="21_1"># 21、找出最早出版的一本书<a class="headerlink" href="#21_1" title="Permanent link">&para;</a></h5>
<p>SELECT * FROM books ORDER BY pubdate ASC LIMIT 0 , 1 ;</p>
<h1 id="22novel">22、找出novel中价格最高的一本书<a class="headerlink" href="#22novel" title="Permanent link">&para;</a></h1>
<p>SELECT * FROM books WHERE note = 'novel' ORDER BY price DESC LIMIT 0 , 1 ;</p>
<h5 id="23_1"># 23、找出书名中字数最多的一本书，不含空格<a class="headerlink" href="#23_1" title="Permanent link">&para;</a></h5>
<p>SELECT * FROM books ORDER BY CHAR_LENGTH(REPLACE(name,' ','')) DESC LIMIT 0 , 1 ;</p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "search.share", "header.autohide"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../../../../mkdocs/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>